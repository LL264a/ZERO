本章内容
    ◆各种文本工具来查看。分析。统计文本
    ◆grep
    ◆正则表达式
    ◆扩展睁着表达式
    ◆vim

文件查看
    ◆文件查看命令:
        cat,tac,rev
    ◆cat [OPTION]...[FILE]
        -E: 对显示结束符$
        -n: 对显示出的每一行进行编号
        -A: 显示所有控制符
        -b: 非控制编号
        -s: 压缩连续的空行成一行
    ◆tac
    ◆rev
    ◆more:  分页查看文件
        more [OPTION...] FILE
            -d: 显示翻页及退出提示
    ◆less:  一页一页地查看文件或STDIN输出
        查看时有用的命令包括: 
            /文件 搜索  文本
            n/N   跳到下一个或上一个匹配
        less    命令式man命令使用的分页器

显示文本前或后行内容
    ◆head [OPTION]...[FILE]
        -c #:   指定获取前#字节
        -n #:   指定获取前#行
        -#:     指定行数
    ◆tail [OPTION]...[FILE]
        -c #:   指定获取后#字节
        -n #:   指定获取后#行
        -#:     同上
        -f:     跟踪显示文件fd新追加的内容，常用日志监控相当于 --follow=descriptor
        -F:     跟踪文件名，相当于--follow=name --retry
    ◆talif 类似 tail -f,当文件不增长时并不访问文件  

    示例:   
        head:
            cat /dev/urandom | tr -dc 'a-zA-Z0-9_' |head -c 520

按列抽取文本cut和合并文件paste
    ◆cut [OPTION]...[FILE]...
        -d DELIMITER:   指明分隔符，默认tab
        -f FILEDS:
            #:          第#个字段
            #,#[,#]:    离散的多个字段，例如1,3,6
            #-#:        连续的多个字段，例如1-6
            混合使用:   1-3,7
        -c  按字符切割
        --output-delimiter=SRRING指定输出分隔符
    ◆显示文件或STDIN数据的指定列
        cut -d: -f1 /etc/passwd
        cat /etc/passwd |cut -d:-f7
        cut -c2-5 /usr/share/dict/words
    ◆paste 合并两个文件同行号的列到一行
        paste [OPTION]...[FILE]
            -d 分隔符:  指定分隔符，默认用TAB
            -s:     所有行合成一行显示
        示例:
        paste f1 f2
        paste -s f1 f2 

        例如:
            用户
            cut -d: -f1,3,5-7 /etc/passwd
            cut -d: -f1,3 --output-delimiter=' '  /etc/passwd
            硬盘占比
            df |tr ss -nt | tr -dc '0-9 .\n:' | tr -s " " : | cut -d: -f6-s ' ' :|cut -d: -f5
            ip地址
            ifconfig ens192 |head -2 |tail -1 |tr -s ' ' |cut -d " " -f3
            ifconfig ens192 | head -2 | tail -1 | cut -dt -f2 | cut -dn -f1

            
收集文本统计数据wc
    ◆计数单词总数，行总数，字节总数和字符总数
    ◆可以对文件或STDIN中的数据运行
        wc  story.txt
        39   237    1901   story.txt
        行数 字数    字节数
    ◆常用选项
        -l  只计数行数
        -w  只计数单词总数
        -c  只计数字节总数
        -m  只计数字符总数
        -L  显示文件中最长行的长度
        
文本排序sort
    ◆把整理过的文本显示在STDOUT,不改变原始文件
        sort [options] file(s)
    ◆常用选项
        -r  执行反方向(由上自下)整理
        -r  随机排序
        -n  执行按数值大小整理
        -f  选项忽略(fold) 字符串中的字符大小写
        -u  选项(独特，unipue)删除输出中的重复行
        -t c    选项使用才作为字段界定符
        -k X 选项按照使用c字符分割的X列来整理能够使用多次
    示例:
        df |tr -s ' ' "%"|cut -d% -f5|sort -nr|head -n1

        df |tr -s ' ' "%"|cut -d% -f5|sort -n|tail -n1
uniq
    ◆uniq 命令: 从输入中删除前后相接的重复的行
    ◆uniq [OPTION]...[FILE]...
        -c: 显示每行重复出现的次数
        -d: 仅显示重复过的行
        -u: 仅显示不曾重复的行
        注：连续且完全相同方位重复
    ◆常和sort命令一起配合使用
        sort userlist.txt | uniq -c

    示例
        cut -d " " -f1 /www/wwwlogs/*.log |sort |uniq -c|sort -nr |head

比较文件
    ◆比较两个文件之间的区别
        diff foo.conf foo2.conf
        5c5
        <   use_widgets = no
        ---
        >   use_widgets =yes
        注明第五行有区别(改变)

复制对文件改变patch
    ◆diff 命令的输出被保存在一只叫做‘补丁’的文件中
        使用 -u 选项来输出‘统一的(unified)’diff格式文件最适用于补丁文件
    ◆patch 复制在其他文件中进行的改变(要谨慎使用)
        适用 -b 选项来自动备份改变了的文件
        diff -u foo.conf foo2.conf >foo.patch
        patch -b foo.conf foo.patch

练习:
    1.找出ifconfi‘网卡名'命令结果中的本机ipv4地址

    2.查出分区空间使用率的最大百分比值

    3.查出用户UID最大值的用户名，UID及shell类型

    4.查出/tmp的权限，以数字方式显示

    5.统计当前连接本机的每个远程主机ip的连接数，并按从大到小排序

Linux文本处理三剑客
    ◆grep:  文本过滤(模式: pattern)工具
        grep，egrep，fgrep(不支持正则表达式搜索)
    ◆sed:   stream editor,文本编辑工具
    ◆awk:   Linux上的实现gawk，文本报告生成器

grep 
    ◆grep:  Global search REgular expression and Print out the line
        作用:   文本搜索工具，根据用户指定‘模式’对目标文本逐行匹配检查；打印匹配到的行
    ◆grep [OPTIONS] PATTERN [FILE]
        grep root /etc/passwd
        grep "$USER" /etc/passwd
        grep '$USER' /etc/passwd
        grep `whoami` /etc/passwd
    ◆-V:    显示不被pattern匹配到的行
    ◆-i:    忽略字符大小写
    ◆-n:    显示匹配的行号
    ◆-c:    统计匹配的行数
    ◆-o:    仅显示匹配到底字符串
    ◆-q:    静默模式，不输出任何信息
    ◆-A #:  after,后#行
    ◆-B #:  before，前#行
    ◆-C #:  context,前后#行
    ◆-e:    实现多个选项间的逻辑or关系
        grep -e 'cat' -e 'dog' file
    ◆-w:    匹配整个单词
    ◆-E:    使用ERE
    ◆-F:    相当于fgrep,不支持正则表达式
    ◆-f：   根据模式文件处理
    ◆--color=auto:  对匹配到的文本着色显示

    df -h|grep /dev/vda1|tr -s ' ' %|cut -d% -f 5|sort -nr

    nmap -v -sP 192.168.31.0/24|grep -B1 up|grep report|cut -d " " -f6 > ip.txt